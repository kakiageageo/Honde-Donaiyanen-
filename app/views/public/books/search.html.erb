<div class="container">
  <div class="row justify-content-center my-3">
    <div class="col ml-3">
    <%= form_with url: books_search_path, method: :get do |f| %>

        <%= f.text_field :keyword, placeholder: "本のタイトルを入力", class: "mr-2", size: 40 %>
        <%= f.submit "　検索　", class: "btn btn-primary" %>

    <% end %>
    </div>
  </div>

  <%# 検索結果　%>
    <% if @books.present? %>
      <table class='table table-hover'>
        <thead>
          <tr>
            <th>タイトル</th>
            <th>著者</th>
            <th>概要</th>
            <th></th>
            <th></th>
          </tr>
        </thead>
        <tbody>

          <% @books.each do |book| %>
            <tr>
              <td><%= book.title %></td>
              <td><%= book.author %></td>
              <td><%= book.item_caption %></td>

              <td><%= image_tag book.image_url, size: "120x120" %></td>
              <td>
                <%= form_tag(books_path, method: :post) do %>
                  <%= hidden_field_tag :isbn, book.isbn %>
                  <%= submit_tag "ジャンルをつける", class: "btn btn-info m-1"%>
                <% end %>
              </td>
            </tr>

          <% end %>
        </tbody>
      </table>
      
      <div class="row justify-content-center">
        <%= paginate @page %>
      </div>
    <% else %>
      <div class="row">
      <div class="mx-auto">
        <h4>検索結果は見つかりませんでした</h4>
      </div>
      </div>
    <% end %>


    

  </div>